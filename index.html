<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="simple, secure text encryption in your browser">
    <title>text encryption</title>

    <!-- CSS Files -->
    <link rel="stylesheet" href="tokens.css">
    <link rel="stylesheet" href="base.css">
    <link rel="stylesheet" href="components.css">
</head>
<body>
    <h1>text encryption</h1>

    <!-- controls -->
    <div class="controls">
        <button id="themeToggle"
                class="control-button"
                onclick="toggleTheme()"
                aria-label="toggle dark/light theme">
            <svg id="themeIcon" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
            </svg>
        </button>
        <button id="languageToggle"
                class="control-button language-button"
                onclick="toggleLanguage()"
                aria-label="switch language">
            EN
        </button>
        <a href="https://github.com/philornot/text-encryption"
           class="control-button"
           target="_blank"
           rel="noopener noreferrer"
           aria-label="view source code on github">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"></path>
                <path d="M9 18c-4.51 2-5-2-7-2"></path>
            </svg>
        </a>
    </div>

    <h2>encrypt</h2>
    <div>
        <textarea id="plaintext" placeholder="enter text to encrypt..."></textarea>
        <div>
            <label for="autoGenerateKey">
                <input type="checkbox" id="autoGenerateKey" checked onchange="toggleKeyInput()">
                <span>auto-generate secret key</span>
            </label>
        </div>
        <input type="password"
               id="encryptKey"
               placeholder="enter secret key..."
               style="display: none;"
               onkeypress="handleEncryptKeyPress(event)">
        <div class="button-group">
            <button id="encryptBtn" onclick="encrypt()">encrypt</button>
        </div>
        <div class="output">
            <div class="key-display" id="generatedKeyDisplay" onclick="copyGeneratedKey()"></div>
            <textarea id="ciphertext" readonly placeholder="encrypted text will appear here..."></textarea>
            <button id="copyEncryptedBtn" onclick="copyEncrypted()">copy encrypted text</button>
        </div>
    </div>

    <h2>decrypt</h2>
    <div>
        <textarea id="encryptedInput" placeholder="paste encrypted text..."></textarea>
        <input type="password"
               id="decryptKey"
               placeholder="enter secret key..."
               onkeypress="handleDecryptKeyPress(event)">
        <button id="decryptBtn" onclick="decrypt()">decrypt</button>
        <div class="output">
            <textarea id="decryptedText" readonly placeholder="decrypted text will appear here..."></textarea>
            <button id="copyDecryptedBtn" onclick="copyDecrypted()">copy decrypted text</button>
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>
    <script src="i18n.js"></script>
    <script src="theme.js"></script>
    <script src="script.js"></script>
</body>
</html>